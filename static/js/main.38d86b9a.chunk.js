(this["webpackJsonptractian-challenge"]=this["webpackJsonptractian-challenge"]||[]).push([[0],{167:function(e,t,n){},267:function(e,t,n){},268:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),a=n(25),r=n.n(a),s=(n(167),n(23)),l=n(270),o=n(73),j=n(280),u=n(281),d=n(277),b=n(273),O=n(59),h=n(81),m=n.n(h),x=n(149),v=n.n(x).a.create({baseURL:"https://my-json-server.typicode.com/tractian/fake-api",headers:{"Content-type":"application/json"}}),p=n(278),f=n(279),g=n(274),I=n(275),y=n(272),C=n(276),S=n(5),A=g.a.Title,k=function(e){var t=e.visible,n=e.setVisible,i=e.companyId,a=e.unitId,r=Object(c.useState)(""),l=Object(s.a)(r,2),o=l[0],j=l[1],u=Object(c.useState)(""),d=Object(s.a)(u,2),b=d[0],O=d[1];return Object(S.jsx)(I.a,{visible:t,onCancel:function(){return n(!1)},onOk:function(){v.post("/users",{name:o,email:b,companyId:i,unitId:a}).catch((function(){return console.error("Error")})),n(!1)},children:Object(S.jsxs)(y.a,{style:{marginTop:30},children:[Object(S.jsx)(A,{style:{textAlign:"center"},children:"Novo Usu\xe1rio"}),Object(S.jsx)(y.a.Item,{name:"name",label:"Nome",rules:[{required:!0}],children:Object(S.jsx)(C.a,{value:o,onChange:function(e){return j(e.target.value)}})}),Object(S.jsx)(y.a.Item,{name:"email",label:"Email",rules:[{required:!0}],children:Object(S.jsx)(C.a,{value:b,onChange:function(e){return O(e.target.value)}})})]})})},T=g.a.Title,N=function(e){var t=e.visible,n=e.setVisible,i=Object(c.useState)(""),a=Object(s.a)(i,2),r=a[0],l=a[1];return Object(S.jsx)(I.a,{visible:t,onCancel:function(){return n(!1)},onOk:function(){v.post("/companies",{name:r}).catch((function(){return console.error("Error")})),n(!1)},children:Object(S.jsxs)(y.a,{style:{marginTop:30},children:[Object(S.jsx)(T,{style:{textAlign:"center"},children:"Nova Empresa"}),Object(S.jsx)(y.a.Item,{name:"name",label:"Nome",rules:[{required:!0}],children:Object(S.jsx)(C.a,{value:r,onChange:function(e){return l(e.target.value)}})})]})})},E=n(79),U=g.a.Title,w=(E.a.Option,function(e){var t=e.visible,n=e.setVisible,i=e.companyId,a=Object(c.useState)(""),r=Object(s.a)(a,2),l=r[0],o=r[1],j=Object(c.useState)([]),u=Object(s.a)(j,2),d=(u[0],u[1]);return Object(c.useEffect)((function(){v.get("/companies").then((function(e){var t=e.data;return d(t)})).catch((function(e){return console.error("An error has occurred",e)}))})),Object(S.jsx)(I.a,{visible:t,onCancel:function(){return n(!1)},onOk:function(){v.post("/units",{name:l,companyId:i}).catch((function(){return console.error("Error")})),n(!1)},children:Object(S.jsxs)(y.a,{style:{marginTop:30},children:[Object(S.jsx)(U,{style:{textAlign:"center"},children:"Nova Unidade"}),Object(S.jsx)(y.a.Item,{name:"name",label:"Nome",rules:[{required:!0}],children:Object(S.jsx)(C.a,{value:l,onChange:function(e){return o(e.target.value)}})})]})})}),M=g.a.Title,q=function(e){var t=e.visible,n=e.setVisible,i=e.companyId,a=e.unitId,r=Object(c.useState)(""),l=Object(s.a)(r,2),o=l[0],j=l[1],u=Object(c.useState)(""),d=Object(s.a)(u,2),b=d[0],O=d[1],h=Object(c.useState)(""),m=Object(s.a)(h,2),x=m[0],p=m[1],f=Object(c.useState)(""),g=Object(s.a)(f,2),A=g[0],k=g[1],T=Object(c.useState)(""),N=Object(s.a)(T,2),E=N[0],U=N[1],w=Object(c.useState)(""),q=Object(s.a)(w,2),R=q[0],V=q[1],P=Object(c.useState)(""),F=Object(s.a)(P,2),H=F[0],L=F[1],G=Object(c.useState)(""),B=Object(s.a)(G,2),J=B[0],W=B[1];return Object(S.jsx)(I.a,{visible:t,onCancel:function(){return n(!1)},onOk:function(){v.post("/assets",{name:o,model:b,status:x,healthscore:E,specifications:{maxTemp:R,power:H,rpm:J},companyId:i,unitId:a}).catch((function(){return console.error("Error")})),n(!1)},children:Object(S.jsxs)(y.a,{style:{marginTop:30},children:[Object(S.jsx)(M,{style:{textAlign:"center"},children:"Novo Usu\xe1rio"}),Object(S.jsx)(y.a.Item,{name:"name",label:"Nome",rules:[{required:!0}],children:Object(S.jsx)(C.a,{value:o,onChange:function(e){return j(e.target.value)}})}),Object(S.jsx)(y.a.Item,{name:"model",label:"Modelo",rules:[{required:!0}],children:Object(S.jsx)(C.a,{value:b,onChange:function(e){return O(e.target.value)}})}),Object(S.jsx)(y.a.Item,{name:"healthscore",label:"Healthscore",rules:[{required:!0}],children:Object(S.jsx)(C.a,{value:E,onChange:function(e){return U(e.target.value)}})}),Object(S.jsx)(y.a.Item,{name:"status",label:"Status",rules:[{required:!0}],children:Object(S.jsx)(C.a,{value:x,onChange:function(e){return p(e.target.value)}})}),Object(S.jsx)(y.a.Item,{name:"image",label:"Imagem",rules:[{required:!0}],children:Object(S.jsx)(C.a,{value:A,onChange:function(e){return k(e.target.value)}})}),Object(S.jsx)(M,{level:3,children:"Especifica\xe7\xf5es"}),Object(S.jsx)(y.a.Item,{name:"maxTemp",label:"Temperatura M\xe1xima",children:Object(S.jsx)(C.a,{value:R,onChange:function(e){return V(e.target.value)}})}),Object(S.jsx)(y.a.Item,{name:"power",label:"Pot\xeancia",children:Object(S.jsx)(C.a,{value:H,onChange:function(e){return L(e.target.value)}})}),Object(S.jsx)(y.a.Item,{name:"rpm",label:"RPM",children:Object(S.jsx)(C.a,{value:J,onChange:function(e){return W(e.target.value)}})})]})})},R=function(e){var t=e.show,n=e.set,i=Object(c.useState)([]),a=Object(s.a)(i,2),r=a[0],l=a[1],o=Object(c.useState)([]),j=Object(s.a)(o,2),u=j[0],h=j[1],x=Object(c.useState)([]),g=Object(s.a)(x,2),I=g[0],y=g[1],C=Object(c.useState)([]),A=Object(s.a)(C,2),T=A[0],E=A[1],U=Object(c.useState)(!1),M=Object(s.a)(U,2),R=M[0],V=M[1],P=Object(c.useState)(!1),F=Object(s.a)(P,2),H=F[0],L=F[1],G=Object(c.useState)(!1),B=Object(s.a)(G,2),J=B[0],W=B[1],D=Object(c.useState)(!1),z=Object(s.a)(D,2),K=z[0],Q=z[1];function X(e,t){return T.filter((function(n){return n.companyId===e&&n.unitId===t}))}return Object(c.useEffect)((function(){function e(e,t){v.get(e).then((function(e){var n=e.data;return t(n)})).catch((function(e){return console.error("An error has occurred",e)}))}e("/companies",l),e("/units",h),e("/users",y),e("/assets",E)}),[]),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(N,{visible:R,setVisible:V}),Object(S.jsx)(d.a,{mode:"inline",children:Object(S.jsxs)(d.a.ItemGroup,{title:"Empresas",children:[r.map((function(e){return Object(S.jsx)(m.a,{title:e.name,children:Object(S.jsxs)(d.a.ItemGroup,{title:"Unidades",children:[(c=e.id,u.filter((function(e){return e.companyId===c}))).map((function(c){return Object(S.jsxs)(m.a,{title:c.name,children:[Object(S.jsxs)(m.a,{title:"Usu\xe1rios",icon:Object(S.jsx)(p.a,{}),children:[(i=e.id,a=c.id,I.filter((function(e){return e.companyId===i&&e.unitId===a}))).map((function(e){var t=e.id,n=e.name,c=e.email;return Object(S.jsx)(d.a.Item,{children:Object(S.jsx)(b.b.Item.Meta,{title:n,description:c})},"user"+t)})),Object(S.jsx)(k,{visible:J,setVisible:W,companyId:e.id,unitId:c.id}),Object(S.jsx)(d.a.Item,{children:Object(S.jsx)(O.a,{icon:Object(S.jsx)(f.a,{}),type:"dashed",onClick:function(){return W(!0)},children:"Adicionar"})},"Add user")]},"users"+c.id),Object(S.jsxs)(m.a,{title:"Ativos",children:[X(e.id,c.id).map((function(e){return Object(S.jsx)(d.a.Item,{children:Object(S.jsx)(O.a,{onClick:function(){return function(e){n(e),t()}(e)},type:"text",children:e.name})},"asset"+e.id)})),Object(S.jsx)(q,{visible:K,setVisible:Q,companyId:e.id,unitId:c.id}),Object(S.jsx)(d.a.Item,{children:Object(S.jsx)(O.a,{icon:Object(S.jsx)(f.a,{}),type:"dashed",onClick:function(){return Q(!0)},children:"Adicionar"})},"Add Asset")]},"assets"+c.id)]},c.id);var i,a})),Object(S.jsx)(w,{visible:H,setVisible:L,companyId:e.id}),Object(S.jsx)(d.a.Item,{children:Object(S.jsx)(O.a,{icon:Object(S.jsx)(f.a,{}),type:"dashed",onClick:function(){return L(!0)},children:"Adicionar"})},"Add Unit")]})},"units"+e.id);var c})),Object(S.jsx)(O.a,{icon:Object(S.jsx)(f.a,{}),type:"dashed",onClick:function(){return V(!0)},children:"Adicionar"})]})})]})},V=(n(267),n(154)),P=n.n(V),F=n(124),H=n.n(F),L=n(271),G=function(e){var t=e.asset,n=e.visible,c=e.handleOk,i=e.handleCancel,a=e.handleRemove,r=function(e){var t=e.title,n=e.value;return Object(S.jsxs)("p",{children:[Object(S.jsx)("strong",{children:t+": "}),n]})};return Object(S.jsxs)(I.a,{visible:n,title:null===t||void 0===t?void 0:t.name,onOk:function(){return c(t)},onCancel:i,footer:[Object(S.jsx)(O.a,{type:"primary",danger:!0,onClick:function(){return a(null===t||void 0===t?void 0:t.id)},children:"Remover"},"back"),Object(S.jsx)(O.a,{type:"primary",onClick:function(){return c(t)},children:"Adicionar"},"submit")],children:[Object(S.jsx)(L.a,{src:null===t||void 0===t?void 0:t.image}),Object(S.jsx)(r,{title:"Healthscore",value:null===t||void 0===t?void 0:t.healthscore}),Object(S.jsx)(r,{title:"Status",value:null===t||void 0===t?void 0:t.status}),Object(S.jsx)(r,{title:"Modelo",value:null===t||void 0===t?void 0:t.model}),Object(S.jsx)("p",{children:Object(S.jsx)("strong",{children:"Sensores:"})}),null===t||void 0===t?void 0:t.sensors.map((function(e){return Object(S.jsx)("ul",{children:Object(S.jsx)("li",{children:e})})})),Object(S.jsx)("p",{children:Object(S.jsx)("strong",{children:"Metricas: "})}),Object(S.jsxs)("ul",{children:[(null===t||void 0===t?void 0:t.specifications.maxTemp)&&Object(S.jsx)("li",{children:Object(S.jsx)(r,{title:"Temperatura M\xe1xima",value:(null===t||void 0===t?void 0:t.specifications.maxTemp)+" \xbaC"})}),(null===t||void 0===t?void 0:t.specifications.power)&&Object(S.jsx)("li",{children:Object(S.jsx)(r,{title:"Pot\xeancia",value:(null===t||void 0===t?void 0:t.specifications.power)+" kWh"})}),(null===t||void 0===t?void 0:t.specifications.rpm)&&Object(S.jsx)("li",{children:Object(S.jsx)(r,{title:"RPM",value:(null===t||void 0===t?void 0:t.specifications.rpm)+" RPM"})})]}),Object(S.jsx)("p",{children:Object(S.jsx)("strong",{children:"Especifica\xe7\xf5es: "})}),Object(S.jsxs)("ul",{children:[Object(S.jsx)("li",{children:Object(S.jsx)(r,{title:"totalUptime",value:null===t||void 0===t?void 0:t.metrics.totalUptime})}),Object(S.jsx)("li",{children:Object(S.jsx)(r,{title:"totalCollectsUptime",value:null===t||void 0===t?void 0:t.metrics.totalCollectsUptime})}),Object(S.jsx)("li",{children:Object(S.jsx)(r,{title:"lastUptimeAt",value:null===t||void 0===t?void 0:t.metrics.lastUptimeAt})})]})]})},B=l.a.Header,J=l.a.Content,W=l.a.Sider;var D=function(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),n=t[0],i=t[1],a=Object(c.useState)([]),r=Object(s.a)(a,2),d=r[0],b=r[1],O=Object(c.useState)(),h=Object(s.a)(O,2),m=h[0],x=h[1],v=Object(c.useState)(!1),p=Object(s.a)(v,2),f=p[0],g=p[1],I={chart:{type:"column"},title:{text:"Healthscore dos Ativos"},xAxis:{categories:d.map((function(e){return e.name})),title:{text:null}},yAxis:{min:0,title:{text:null},labels:{overflow:"justify"}},plotOptions:{column:{dataLabels:{enabled:!0}}},series:[{name:"Healthscore",data:d.map((function(e){return e.healthscore}))}]};return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(G,{visible:n,asset:m,handleOk:function(e){e&&-1===d.indexOf(e)&&d.push(e),i(!1)},handleCancel:function(){i(!1)},handleRemove:function(e){b(d.filter((function(t){return t.id!==e}))),i(!1)}}),Object(S.jsxs)(l.a,{children:[Object(S.jsx)(B,{className:"header",children:Object(S.jsxs)("div",{className:"logo",children:[Object(S.jsx)("p",{children:"TRACTIAN "}),Object(S.jsx)("p",{children:"CHALLENGE"})]})}),Object(S.jsxs)(l.a,{children:[Object(S.jsx)(W,{collapsed:f,collapsible:!0,className:"site-layout-background",breakpoint:"lg",width:250,collapsedWidth:0,trigger:null,children:Object(S.jsx)(R,{show:function(){i(!0)},set:x})}),Object(S.jsxs)(l.a,{children:[Object(S.jsx)(B,{className:"site-layout-background",style:{padding:0},children:Object(c.createElement)(f?j.a:u.a,{className:"trigger",onClick:function(){g(!f)}})}),Object(S.jsx)(J,{className:"content",children:0===d.length?Object(S.jsx)(o.a,{}):Object(S.jsx)(P.a,{highcharts:H.a,options:I})})]})]})]})]})},z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,282)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),i(e),a(e),r(e)}))};r.a.render(Object(S.jsx)(i.a.StrictMode,{children:Object(S.jsx)(D,{})}),document.getElementById("root")),z()}},[[268,1,2]]]);
//# sourceMappingURL=main.38d86b9a.chunk.js.map