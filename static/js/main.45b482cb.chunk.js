(this["webpackJsonptractian-challenge"]=this["webpackJsonptractian-challenge"]||[]).push([[0],{166:function(e,t,n){},266:function(e,t,n){},267:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),a=n(24),s=n.n(a),r=(n(166),n(30)),l=n(271),j=n(72),o=n(281),u=n(282),d=n(278),b=n(273),O=n(59),h=n(80),x=n.n(h),m=n(150),p=n.n(m).a.create({baseURL:"https://my-json-server.typicode.com/tractian/fake-api",headers:{"Content-type":"application/json"}}),v=n(279),f=n(280),g=n(275),y=n(274),C=n(276),A=n(277),k=n(7),S=g.a.Title,I=function(e){var t=e.visible,n=e.setVisible,i=Object(c.useState)(""),a=Object(r.a)(i,2),s=a[0],l=a[1],j=Object(c.useState)(""),o=Object(r.a)(j,2),u=o[0],d=o[1];y.a.useForm();return Object(k.jsx)(C.a,{visible:t,onCancel:function(){return n(!1)},onOk:function(){p.post("/users",{name:s,email:u}).catch((function(){return console.error("Error")})),n(!1)},children:Object(k.jsxs)(y.a,{title:"Novo Usu\xe1rio",style:{marginTop:30},children:[Object(k.jsx)(S,{style:{textAlign:"center"},children:"Novo Usu\xe1rio"}),Object(k.jsx)(y.a.Item,{name:"name",label:"Nome",rules:[{required:!0}],children:Object(k.jsx)(A.a,{value:s,onChange:function(e){return l(e.target.value)}})}),Object(k.jsx)(y.a.Item,{name:"email",label:"Email",rules:[{required:!0}],children:Object(k.jsx)(A.a,{value:u,onChange:function(e){return d(e.target.value)}})})]})})},U=function(e){var t=e.show,n=e.set,i=Object(c.useState)([]),a=Object(r.a)(i,2),s=a[0],l=a[1],j=Object(c.useState)([]),o=Object(r.a)(j,2),u=o[0],h=o[1],m=Object(c.useState)([]),g=Object(r.a)(m,2),y=g[0],C=g[1],A=Object(c.useState)([]),S=Object(r.a)(A,2),U=S[0],N=S[1],E=Object(c.useState)(!1),F=Object(r.a)(E,2),w=(F[0],F[1]),L=Object(c.useState)(!1),T=Object(r.a)(L,2),H=(T[0],T[1]),R=Object(c.useState)(!1),G=Object(r.a)(R,2),M=G[0],q=G[1],B=Object(c.useState)(!1),J=Object(r.a)(B,2),P=(J[0],J[1]);function V(e,t){return U.filter((function(n){return n.companyId===e&&n.unitId===t}))}return Object(c.useEffect)((function(){function e(e,t){p.get(e).then((function(e){var n=e.data;return t(n)})).catch((function(e){return console.error("An error has occurred",e)}))}e("/companies",l),e("/units",h),e("/users",C),e("/assets",N)}),[]),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(I,{visible:M,setVisible:q}),Object(k.jsx)(d.a,{mode:"inline",children:Object(k.jsxs)(d.a.ItemGroup,{title:"Empresas",children:[s.map((function(e){return Object(k.jsx)(x.a,{title:e.name,children:Object(k.jsxs)(d.a.ItemGroup,{title:"Unidades",children:[(c=e.id,u.filter((function(e){return e.companyId===c}))).map((function(c){return Object(k.jsxs)(x.a,{title:c.name,children:[Object(k.jsxs)(x.a,{title:"Usu\xe1rios",icon:Object(k.jsx)(v.a,{}),children:[(i=e.id,a=c.id,y.filter((function(e){return e.companyId===i&&e.unitId===a}))).map((function(e){var t=e.id,n=e.name,c=e.email;return Object(k.jsx)(d.a.Item,{children:Object(k.jsx)(b.b.Item.Meta,{title:n,description:c})},"user"+t)})),Object(k.jsx)(d.a.Item,{children:Object(k.jsx)(O.a,{icon:Object(k.jsx)(f.a,{}),type:"dashed",onClick:function(){return q(!0)},children:"Adicionar"})},"Add user")]},"users"+c.id),Object(k.jsxs)(x.a,{title:"Ativos",children:[V(e.id,c.id).map((function(e){return Object(k.jsx)(d.a.Item,{children:Object(k.jsx)(O.a,{onClick:function(){return function(e){n(e),t()}(e)},type:"text",children:e.name})},"asset"+e.id)})),Object(k.jsx)(d.a.Item,{children:Object(k.jsx)(O.a,{icon:Object(k.jsx)(f.a,{}),type:"dashed",onClick:function(){return P(!0)},children:"Adicionar"})},"Add Asset")]},"assets"+c.id)]},c.id);var i,a})),Object(k.jsx)(d.a.Item,{children:Object(k.jsx)(O.a,{icon:Object(k.jsx)(f.a,{}),type:"dashed",onClick:function(){return H(!0)},children:"Adicionar"})},"Add Unit")]})},"units"+e.id);var c})),Object(k.jsx)(O.a,{icon:Object(k.jsx)(f.a,{}),type:"dashed",onClick:function(){return w(!0)},children:"Adicionar"})]})})]})},N=(n(266),n(155)),E=n.n(N),F=n(124),w=n.n(F),L=n(269),T=n(270),H=n(272),R=function(e){var t=e.asset,n=e.visible,c=e.handleOk,i=e.handleCancel,a=e.handleRemove,s=function(e){var t=e.title,n=e.value;return Object(k.jsxs)("p",{children:[Object(k.jsx)("strong",{children:t+": "}),n]})};return Object(k.jsx)(C.a,{visible:n,title:null===t||void 0===t?void 0:t.name,onOk:function(){return c(t)},onCancel:i,footer:[Object(k.jsx)(O.a,{type:"primary",danger:!0,onClick:function(){return a(null===t||void 0===t?void 0:t.id)},children:"Remover"},"back"),Object(k.jsx)(O.a,{type:"primary",onClick:function(){return c(t)},children:"Adicionar"},"submit")],children:Object(k.jsxs)(L.a,{children:[Object(k.jsx)(T.a,{span:"8",children:Object(k.jsx)(H.a,{src:null===t||void 0===t?void 0:t.image})}),Object(k.jsxs)(T.a,{children:[Object(k.jsx)(s,{title:"Healthscore",value:null===t||void 0===t?void 0:t.healthscore}),Object(k.jsx)(s,{title:"Status",value:null===t||void 0===t?void 0:t.status}),Object(k.jsx)(s,{title:"Modelo",value:null===t||void 0===t?void 0:t.model}),Object(k.jsx)("p",{children:Object(k.jsx)("strong",{children:"Sensores:"})}),null===t||void 0===t?void 0:t.sensors.map((function(e){return Object(k.jsx)("ul",{children:Object(k.jsx)("li",{children:e})})})),Object(k.jsx)("p",{children:Object(k.jsx)("strong",{children:"Especifica\xe7\xf5es: "})}),Object(k.jsxs)("ul",{children:[Object(k.jsx)("li",{children:Object(k.jsx)(s,{title:"totalUptime",value:null===t||void 0===t?void 0:t.metrics.totalUptime})}),Object(k.jsx)("li",{children:Object(k.jsx)(s,{title:"totalCollectsUptime",value:null===t||void 0===t?void 0:t.metrics.totalCollectsUptime})}),Object(k.jsx)("li",{children:Object(k.jsx)(s,{title:"lastUptimeAt",value:null===t||void 0===t?void 0:t.metrics.lastUptimeAt})})]})]})]})})},G=l.a.Header,M=l.a.Content,q=l.a.Sider;var B=function(){var e=Object(c.useState)(!1),t=Object(r.a)(e,2),n=t[0],i=t[1],a=Object(c.useState)([]),s=Object(r.a)(a,2),d=s[0],b=s[1],O=Object(c.useState)(),h=Object(r.a)(O,2),x=h[0],m=h[1],p=Object(c.useState)(!1),v=Object(r.a)(p,2),f=v[0],g=v[1],y={chart:{type:"column"},title:{text:"Healthscore dos Ativos"},xAxis:{categories:d.map((function(e){return e.name})),title:{text:null}},yAxis:{min:0,title:{text:null},labels:{overflow:"justify"}},plotOptions:{column:{dataLabels:{enabled:!0}}},series:[{name:"Healthscore",data:d.map((function(e){return e.healthscore}))}]};return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(R,{visible:n,asset:x,handleOk:function(e){e&&-1===d.indexOf(e)&&d.push(e),i(!1)},handleCancel:function(){i(!1)},handleRemove:function(e){b(d.filter((function(t){return t.id!=e}))),i(!1)}}),Object(k.jsxs)(l.a,{children:[Object(k.jsx)(G,{className:"header",children:Object(k.jsxs)("div",{className:"logo",children:[Object(k.jsx)("p",{children:"TRACTIAN "}),Object(k.jsx)("p",{children:"CHALLENGE"})]})}),Object(k.jsxs)(l.a,{children:[Object(k.jsx)(q,{collapsed:f,collapsible:!0,className:"site-layout-background",breakpoint:"lg",width:250,collapsedWidth:0,trigger:null,children:Object(k.jsx)(U,{show:function(){i(!0)},set:m})}),Object(k.jsxs)(l.a,{children:[Object(k.jsx)(G,{className:"site-layout-background",style:{padding:0},children:Object(c.createElement)(f?o.a:u.a,{className:"trigger",onClick:function(){g(!f)}})}),Object(k.jsx)(M,{className:"content",children:0==d.length?Object(k.jsx)(j.a,{}):Object(k.jsx)(E.a,{highcharts:w.a,options:y})})]})]})]})]})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,283)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),i(e),a(e),s(e)}))};s.a.render(Object(k.jsx)(i.a.StrictMode,{children:Object(k.jsx)(B,{})}),document.getElementById("root")),J()}},[[267,1,2]]]);
//# sourceMappingURL=main.45b482cb.chunk.js.map